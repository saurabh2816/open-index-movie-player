<!-- <div class="container" *ngFor="let movie of data; index as i" >
    <div class="item" 
        (click)="openMovie(movie.url, i)"
        >
        {{movie.info.Title}} :  {{movie.info.imdbRating}}
        <img src={{movie.info.poster}} onError="this.src='https://savethesumatrantigerfmp.weebly.com/uploads/5/0/7/6/50766355/7434310.jpg?263'"/>
            <app-custom-video *ngIf="i==currentMovieClicked" [url]="currentMovieUrl"></app-custom-video> 

    </div>
</div> -->

<!-- 
  old code before bootstrap carousel 
  <div class='card' *ngFor="let movie of data"> 
    <div class='card-preview-video' [ngStyle]="{background: 'url(' + movie.poster + ')'}">
       <video autoplay muted src='https://archive.org/download/BigBuckBunny_124/Content/big_buck_bunny_720p_surround.mp4'></video> 
       <img src={{d.info.poster}}/> 
     </div> 
    
    <div class='card-details'>
      <div class='card-actions'>
        <button class='btn btn-icon btn-primary'>
          <svg viewBox="0 0 24 24"><path d="M6 4l15 8-15 8z" fill="currentColor"></path></svg>
        </button>
  
        <button class='btn btn-icon btn-secondary'>
          <svg viewBox="0 0 24 24"><path d="M13 11h8v2h-8v8h-2v-8H3v-2h8V3h2v8z" fill="currentColor"></path></svg>
        </button>
  
  
        <button class='btn btn-icon btn-secondary'>
          <svg viewBox="0 0 24 24"><path fill="currentColor" d="M5.689 7.924L4.387 9.442 12.038 16l7.651-6.558-1.302-1.518-6.349 5.442z"></path></svg>
        </button>
      </div>
  
      <div class='card-info'>
        <span class='match-score'>97% Match</span>
        <span class='maturity-rating'>18+</span>
        <span>6 Seasons</span>
        <span class='feature'>HD</span>
      </div>
  
      <div class='card-tags'>
        <span>{{movie.genre}}</span>
      </div>
    </div>
  </div> -->
  
  
  <!-- <swiper
  #swiperVirtualRef
  [slidesPerView]="8"
  [spaceBetween]="20"
  [virtual]="true"
  slideActiveClass="swiper-active whyWouldIuseCustomClass"
  [centeredSlides]="true"
  [navigation]="true"
  class="mySwiper"
  id="mySwiperID"
>
  <ng-template swiperSlide *ngFor="let movie of data; index as i">
    <div class="movie" [ngStyle]="{background: 'url(' + movie.poster + ')', backgroundSize: 'cover'}">
      <div class="movie-name">{{ movie.title.substring(0, 5) }}</div>
    </div>
  </ng-template>

</swiper> -->

<!-- <app-custom-video *ngIf="clickPlay" [url]="movieClicked.link"></app-custom-video> -->

<swiper class="mt-5"
#swiperVirtualRef2
[slidesPerView]="5"
[spaceBetween]="20"
slideActiveClass="swiper-active"
[navigation]="true"
[slidesPerGroup]="4"
[speed]="600"
[parallax]="true"
id="mySwiperID2"
>
<ng-template swiperSlide *ngFor="let movie of data; index as i">
  <div class="card2">
    <div class="card__image" [ngStyle]="{background: 'url(' + movie.poster + ')'}">
     
      <h3>{{ movie.title }}</h3>
      <div class="card__heading-sub">
        <span class="actor">{{ getTwoActors(movie.actors) }} </span>
      </div>
    </div>
    <div class="panel">
      <div class="panel__row panel__buttons">
        <div class="panel__icons">
          <a  (click)="playMovie(movie)">
            <i class="fa fa-play-circle" aria-hidden="true"></i>
            </a>
        </div>

        <div class="panel__icons">
         <div class="imdbRating"> 
           <img class="imdbLogo" src="../../assets/imdbLogo.svg" alt="">
          <div class="movieRating">{{movie.imdbRating}}</div>
         </div>
        </div>


        <div class="panel__icons card-modal-spawn">
          <i class="fa fa-chevron-down open-modal" (click)="triggerModal(movieModal, movie)" aria-hidden="true"></i>
        </div>
      </div>
      <div class="panel__row info">
        <span class="rating"><b>{{movie.rated}}</b></span><span class="year">{{movie.year}}</span><b>{{movie.runtime}}</b>
      </div>
      <div class="panel__row genres">{{getMovieGenres(movie.genre)}}r</div>
    </div>
  </div>
</ng-template>

</swiper>



<!-- MODAL  -->
<div>
<!-- <button class="btn btn-danger" (click)="triggerModal(movieModal)">Open Modal</button> -->
<button class="btn btn-danger">Open Modal</button>

<ng-template #movieModal let-modal>

  <div class="movieModal">
    <div class="modal-body">
    
    <div class="movie" id="movie-card">

      <div class="movie__data" id="movie-data">
        
        <div class="movie__poster" style="background-image:url({{modalMovie.poster}})">
          <span class="movie__poster--featured">
            <img src={{modalMovie.poster}}>
          </span>
        </div>
 

        <div class="movie__details">
          <app-custom-video [url]="movdalMovieLink"></app-custom-video> 
          <span class="material-icons playbutton">play_circle</span> 
          <div class="left-container">
            <h2 class="movie-title">{{modalMovie.title}}</h2>
            <ul class="movie-tags list--inline">
              <li class="movie-rated">{{modalMovie.rated}}</li>
              <li class="movie-year">{{modalMovie.year}}</li>
              <li class="movie-genre">{{modalMovie.genre}}</li>
              <li class="movie-runtime">{{modalMovie.runtime}}</li> 
  
              <div class="movie-plot">
                <div class="movie-plot">
                  <p>{{modalMovie.plot}}</p>
                </div>
              </div>
            </ul>
          </div>

          <div class="right-container">
            <div class="movie-cast">
              <h3 class="movie-cast__heading">Cast</h3>
              <div class="movie-cast__actors">{{modalMovie.actors}}</div>
            </div>
<br/>
            <div class="movie-genre">
              <h3 class="movie-genre__heading">Genre</h3>
              <div class="movie-genre__genre">{{modalMovie.genre}}</div>
            </div>
<br/>
            <div class="movie-rating">
              <h3 class="movie-rating__heading">Ratings</h3>
              <div class="movie-rating__wrapper">
                <div class="movie-rating__metascore">
                  Metascore: {{modalMovie.metascore}}
                </div>
                <div class="movie-rating__imdbRating">
                  Imdb Rating: {{modalMovie.imdbRating}}
                </div>
              </div>
            </div>

            
            
          </div>

        </div>

      </div>
      <!-- <input class="movie__search" id="movie-search" type="text" placeholder="Enter a movie title"> -->
    </div>

  </div>

  <!-- <div class="modal-footer">
    <button type="button" class="btn btn-danger" (click)="modal.close('Save click')">Close</button>
  </div> -->
</div>

</ng-template>
</div>